# üé≠ Sentiment Analysis API

Backend para an√°lisis de sentimientos que se integra con un modelo de Data Science (FastAPI).

## üöÄ Quickstart (Modo Jurado)

Para levantar la aplicaci√≥n en **30 segundos** (requiere Java 21):

**Windows:**
```powershell
./mvnw.cmd spring-boot:run
```

**Linux/Mac:**
```bash
./mvnw spring-boot:run
```

La API estar√° disponible en: `http://localhost:8080`

---

## ‚öôÔ∏è Modos de Ejecuci√≥n

La aplicaci√≥n puede funcionar en dos modos, configurables en `application.properties`:

### 1. Modo Mock (Por defecto)
Ideal para pruebas sin depender del servicio de Python.
- **Config:** `sentiment.mode=mock`
- **Comportamiento:** Devuelve siempre una respuesta fija (simulada).
- **Estado:** `/health/model` devolver√° `status: OK, mode: mock`.

### 2. Modo Python (Real)
Se conecta al servicio de Data Science.
- **Config:** `sentiment.mode=python`
- **Url:** `python.api.url=http://localhost:8000` (ajustable)
- **Comportamiento:** Env√≠a el texto a FastAPI y devuelve la predicci√≥n real.
- **Estado:** `/health/model` intentar√° hacer ping al servicio de Python.

---

## üì° Endpoints Principales

### 1. Analizar Sentimiento
**POST** `/sentiment`

Body:
```json
{
  "text": "Este proyecto es incre√≠ble y funciona muy bien"
}
```

Respuesta (200 OK):
```json
{
  "prevision": "Positivo",
  "probabilidad": 0.99
}
```

### 2. Estad√≠sticas
**GET** `/stats`
Retorna m√©tricas b√°sicas en memoria.
```json
{
  "total_requests": 5,
  "status": "active"
}
```

### 3. Health Checks
- **GET** `/health`: Estado general del servicio (Liveness).
- **GET** `/health/model`: Estado de la conexi√≥n con el modelo de IA (Readiness).

---

## üõ†Ô∏è Troubleshooting

**Error: "Modelo no disponible" (503)**
- Verifica que `sentiment.mode` est√© en `mock` si no tienes Python corriendo.
- Si usas `python`, asegura que FastAPI est√© levantado en el puerto 8000.

**Error: Java version**
- Este proyecto requiere **Java 21**. Verifica con `java -version`.